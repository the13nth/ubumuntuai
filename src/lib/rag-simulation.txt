# RAG Query Simulation System

## Overview
This file simulates responses that would be generated by the RAG system when processing dashboard configuration requests. It provides context for how the system interprets user queries and generates relevant responses.

## Query Processing

When a query like "Display Social apps" is received, the system:
1. Parses the input query
2. Identifies the requested category (if any)
3. Retrieves current dashboard context
4. Generates a response with simulated embedding visualization
5. Logs the interaction to Firebase

## Example Queries and Responses

### Query: "Display Social apps"
```
Input:
- Query: "Display Social apps"
- Timestamp: 2025-03-30 00:39:46
- Source: dashboard
- Status: Not Processed
- Dashboard Context: {"activeCategory":"financial","cols":1,"margin":[5,5],"numApps":1,"rowHeight":200,"rows":1}

Output:
{
  "success": true,
  "answer": "Processed query: \"Display Social apps\" for category: social",
  "query_embedding_visualization": {
    "x": 0.7234,
    "y": 0.4981,
    "z": 0.2756
  }
}

System Actions:
- Changed activeCategory from "financial" to "social"
- Filtered apps to show only social apps (Facebook, Instagram, Whatsapp, Twitter)
- Recalculated grid dimensions to 3x2 based on 4 apps
- Adjusted rowHeight to 150px to maximize viewport usage
- Saved new configuration to localStorage
- Logged interaction to Firebase including previous dashboard context
```

### Query: "Make the cards bigger"
```
Input:
- Query: "Make the cards bigger"
- Timestamp: 2025-03-30 00:41:22
- Source: dashboard
- Status: Not Processed
- Dashboard Context: {"activeCategory":"social","cols":3,"margin":[6,6],"numApps":4,"rowHeight":150,"rows":2}

Output:
{
  "success": true,
  "answer": "Processed query: \"Make the cards bigger\"",
  "query_embedding_visualization": {
    "x": 0.3412,
    "y": 0.8954,
    "z": 0.5231
  }
}

System Actions:
- Maintained activeCategory as "social"
- Reduced columns from 3 to 2
- Increased rowHeight from 150px to 180px
- Increased margin from [6,6] to [10,10]
- Preserved app filtering (only social apps)
- Saved new configuration to localStorage
- Logged interaction to Firebase including previous dashboard context
```

### Query: "Show all apps"
```
Input:
- Query: "Show all apps"
- Timestamp: 2025-03-30 00:45:13
- Source: dashboard
- Status: Not Processed
- Dashboard Context: {"activeCategory":"social","cols":2,"margin":[10,10],"numApps":4,"rowHeight":180,"rows":2}

Output:
{
  "success": true,
  "answer": "Processed query: \"Show all apps\"",
  "query_embedding_visualization": {
    "x": 0.1875,
    "y": 0.6234,
    "z": 0.8945
  }
}

System Actions:
- Changed activeCategory from "social" to null
- Restored display of all 12 apps
- Recalculated grid dimensions to 5x10
- Adjusted rowHeight to 60px to accommodate more apps
- Saved new configuration to localStorage
- Logged interaction to Firebase including previous dashboard context
```

### Query: "Optimize for widescreen display"
```
Input:
- Query: "Optimize for widescreen display"
- Timestamp: 2025-03-30 00:49:32
- Source: dashboard
- Status: Not Processed
- Dashboard Context: {"activeCategory":null,"cols":5,"margin":[6,6],"numApps":12,"rowHeight":60,"rows":10}

Output:
{
  "success": true,
  "answer": "Processed query: \"Optimize for widescreen display\"",
  "query_embedding_visualization": {
    "x": 0.9123,
    "y": 0.3345,
    "z": 0.1289
  }
}

System Actions:
- Maintained activeCategory as null (all apps)
- Increased columns from 5 to 8
- Reduced rows from 10 to 6
- Adjusted rowHeight from 60px to 90px
- Saved new configuration to localStorage
- Logged interaction to Firebase including previous dashboard context
```

## Category Mapping

The system recognizes these categories for app filtering:
- work: ["work", "business", "professional"]
- social: ["social", "social media"]
- financial: ["financial", "finance", "money"]
- entertainment: ["entertainment", "fun", "media"]
- utility: ["utility", "tools"]
- transportation: ["transportation", "travel"]
- news: ["news", "current events"]

## Dashboard Context Structure

The dashboard context saved with each query includes:
```json
{
  "cols": number,           // Number of columns in the grid
  "rows": number,           // Number of rows in the grid
  "rowHeight": number,      // Height of each row in pixels
  "margin": [number, number], // Spacing between cards [x, y]
  "activeCategory": string | null, // Currently active filter category
  "numApps": number         // Number of apps currently displayed
}
```

## Embedding Visualization

The "query_embedding_visualization" represents a 3D coordinate that would normally be derived from a vector embedding of the query. In the simulation, these are random values between 0 and 1 that could be used to visualize query similarity in a 3D space.

## Notes for Implementation

- All queries are logged to Firebase along with dashboard context
- The system preserves the active category when adjusting layout parameters
- When switching categories, the system optimizes the grid dimensions based on the number of filtered apps
- All generated configurations are saved to localStorage for persistence
- Each response includes generated embedding coordinates for visualization 